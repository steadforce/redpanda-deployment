{{- if .Capabilities.APIVersions.Has "cluster.redpanda.com/v1alpha1" }}
apiVersion: cluster.redpanda.com/v1alpha1
kind: Redpanda
metadata:
  name: redpanda
spec:
  chartRef: {}
  clusterSpec:
    external:
      domain: customredpandadomain.local
    statefulset:
      initContainers:
        setDataDirOwnership:
          enabled: true
      {{- if ((((.Values.redpanda).clusterSpec).statefulset).podAntiAffinity) }}
      podAntiAffinity: {{ .Values.redpanda.clusterSpec.statefulset.podAntiAffinity | toYaml | nindent 8 }}
      {{- end }}
{{- end }}  